#!/bin/bash
# up-pgdjlgs v0.1 - The Updater
# Ø£Ø¯Ø§Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø²Ù… Ø§Ù„Ù…Ø³ØªÙ‚Ù„Ø©

PACKAGE=$1
REPO="pgdjlgs/tols"
LOCAL_BIN="/usr/local/bin"

# Ø¯Ø§Ù„Ø© Ù„ØªØ­Ø¯ÙŠØ« Ø­Ø²Ù…Ø© Ù…Ø¹ÙŠÙ†Ø©
update_package() {
    local name=$1
    echo "ğŸ”„ Updating $name..."
    # Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ù† ÙØ±Ø¹ main Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù„Ù„ØªØ­Ø¯ÙŠØ« Ù„Ø£Ø­Ø¯Ø« Ù†Ø³Ø®Ø©
    sudo curl -s -L -f -o "$LOCAL_BIN/$name" "https://raw.githubusercontent.com/$REPO/main/bin/$name"
    
    if [ $? -eq 0 ]; then
        sudo chmod +x "$LOCAL_BIN/$name"
        echo "âœ… $name updated successfully."
    else
        echo "âŒ Failed to update $name. Check your internet or package name."
    fi
}

# Ø§Ù„Ù…Ù†Ø·Ù‚: Ù‡Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø­Ø¯Ø¯ Ø­Ø²Ù…Ø©ØŸ
if [ -z "$PACKAGE" ]; then
    echo "ğŸš€ No package specified. Updating ALL tools..."
    # Ù‡Ù†Ø§ Ù†Ù‚ÙˆÙ… Ø¨ØªØ­Ø¯ÙŠØ« ÙƒÙ„ Ù…Ø§ Ù‡Ùˆ Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ù…Ø¬Ù„Ø¯ bin Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹
    # Ø³Ù†ÙØªØ±Ø¶ Ø£Ù†Ùƒ ØªÙ…Ù„Ùƒ Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø£Ùˆ Ù†Ù‚ÙˆÙ… Ø¨Ø¬Ù„Ø¨Ù‡Ø§ Ù…Ù† GitHub
    for tool in grubtheme dw-pgdjlgs un-pgdjlgs; do
        update_package "$tool"
    done
else
    # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø²Ù…Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© ÙÙ‚Ø·
    update_package "$PACKAGE"
fi
