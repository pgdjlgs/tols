#!/bin/bash
# dw-pgdjlgs v0.3 - Dynamic Manager
# ูุฐุง ุงูุณูุฑุจุช ููุชุดู ุงูุฅุตุฏุงุฑุงุช ุชููุงุฆูุงู ูู GitHub

TOOL=$1
VERSION=$2
REPO="pgdjlgs/tols"

# ุฅุฐุง ูู ูุญุฏุฏ ุงููุณุชุฎุฏู ุฃุฏุงุฉุ ูุนุฑุถ ูู ุงููุณุงุนุฏุฉ
if [ -z "$TOOL" ]; then
    echo "Usage: dw-pgdjlgs <tool_name> [version]"
    echo "Example: dw-pgdjlgs grubtheme v0.1"
    exit 1
fi

# ุฅุฐุง ูู ูุญุฏุฏ ุงููุณุชุฎุฏู ุฅุตุฏุงุฑุงูุ ูุณุชุฎุฏู 'main' (ุฃุญุฏุซ ููุฏ)
if [ -z "$VERSION" ]; then
    VERSION="main"
fi

# ุงูุฑุงุจุท ุงูุณุญุฑู ุงูุฐู ูุฌูุจ ุงูููู ูู ุฃู Tag ุฃู Branch
URL="https://raw.githubusercontent.com/$REPO/$VERSION/bin/$TOOL"

echo "๐ก Connecting to cloud... Fetching $TOOL ($VERSION)"

# ุงูุชุญููู ุจุงุณุชุฎุฏุงู curl
sudo curl -s -L -f -o "/usr/local/bin/$TOOL" "$URL"

if [ $? -eq 0 ]; then
    sudo chmod +x "/usr/local/bin/$TOOL"
    echo "โ Done! $TOOL ($VERSION) is now installed."
else
    echo "โ Error: Could not find $TOOL in version $VERSION."
    echo "Hint: Check if the tag exists on GitHub."
fi
