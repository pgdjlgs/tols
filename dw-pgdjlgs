#!/bin/bash

# ุฑุงุจุท ุงููุณุชูุฏุน ุงูุฎุงู (Raw) ุนูู GitHub
RAW_URL="https://raw.githubusercontent.com/pgdjlgs/tols/main"

if [ "$1" == "-s" ]; then
    TOOL_NAME=$2
    if [ -z "$TOOL_NAME" ]; then
        echo "โ ุฎุทุฃ: ูุฑุฌู ูุชุงุจุฉ ุงุณู ุงูุฃุฏุงุฉ. ูุซุงู: sudo dw-pgdjlgs -s pass"
        exit 1
    fi

    echo "๐ ุฌุงุฑู ุฌูุจ [$TOOL_NAME] ูู ุณุญุงุจุฉ GitHub..."
    
    # ุชุญููู ุงูุฃุฏุงุฉ ูุจุงุดุฑุฉ ุฅูู ูุณุงุฑ ุงูุฃูุงูุฑ
    sudo curl -L "$RAW_URL/$TOOL_NAME" -o "/usr/local/bin/$TOOL_NAME"

    # ุงูุชุฃูุฏ ูู ูุฌุงุญ ุงูุชุญููู (ุฅุฐุง ูุงู ุงูููู ููุฌูุฏ ูู GitHub)
    if [ $? -eq 0 ] && [ $(stat -c%s "/usr/local/bin/$TOOL_NAME") -gt 100 ]; then
        sudo chmod +x "/usr/local/bin/$TOOL_NAME"
        echo "โ ุงุณุชุฏุนุงุก ูุงุฌุญ! ุงูุฃุฏุงุฉ [$TOOL_NAME] ุฌุงูุฒุฉ ููุนูู ุงูุขู."
    else
        sudo rm "/usr/local/bin/$TOOL_NAME"
        echo "โ ุฎุทุฃ: ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูุฃุฏุงุฉ ุฃู ูุดู ุงูุงุชุตุงู."
    fi
else
    echo "โ ุงูุงุณุชุฎุฏุงู: sudo dw-pgdjlgs -s [ุงุณู_ุงูุฃุฏุงุฉ]"
fi
